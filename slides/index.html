<!DOCTYPE html>
<html lang="en">
<head>
    <title>TypeScript presentation</title>
    <meta charset="utf-8">
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <style>
        @import url(https://fonts.googleapis.com/css?family=Droid+Serif);
        @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
    </style>
    <link rel="stylesheet" type="text/css" href="../css/slides.css">
</head>
<body>
<textarea id="source">

class: center, middle
background-image: url(../images/title-folie.jpeg)

.title[
<br/><br/><br/><br/><br/><br/><br/>
### Rowing Session at Fincons Group AG, 25.06.2020
### Speaker: Oleg Varaksin
]

???

Ziel der Präsentation: Einführung in TypeScript zu geben, aber auch tiefe Einblicke hinter die Kulissen.
Nach der heutigen Rowing-Session solltet ihr in der Lage sein, Software mit TypeScript zu schreiben.
    
---
    
# About Speaker

  - __Current job__: Fullstack Senior Software-Developer / Architect at SBB
  - __Current project__: SmartRail 4.0, TMS-L, real-time GUIs (web and mobile)
  - __Main interests__: Frontend technologies: JavaScript based web frameworks, TypeScript, Angular, RxJS, WebGL
  - __E-mail__: ovaraksin@googlemail.com
  - __GitHub__: https://github.com/ova2
  - __Medium__: https://medium.com/@OlegVaraksin
  - __Twitter__: https://twitter.com/OlegVaraksin
  - __Books__:
    - <a href="https://packtpub.com/application-development/primefaces-cookbook-second-edition" target="_blank">PrimeFaces Cookbook</a>, Packt Publishing
    - <a href="https://packtpub.com/web-development/angular-ui-development-primeng" target="_blank">Angular UI Development with PrimeNG</a>, Packt Publishing

???

Letztes Buch: habe eine kurze Einfrührung in TS gegeben und werde einige Code-Beispiele aus diesem Buch in dieser Präsentation verwenden.

---

# Introduction

- TypeScript (http://typescriptlang.org) is a typed language and a super set of JavaScript.
  It was designed and developed by Microsoft (Anders Hejlsberg).

- TypeScript is an advanced JavaScript with optional static typing.
  Static typing is optional because __every JavaScript program is also a TypeScript program__.

- TypeScript code is not processed by browsers, it has to be translated into JavaScript by means of a TypeScript compiler.
  This translation is called _compilation_ or _transpilation_.

- TypeScript is an object oriented language with OO patterns.

- It can be used on the client as well as server side.

???

- Wir werden noch gleich sehen, in welcher Beziehung TypeScript zu JavaScript steht.
- Anders Hejlsberg ist der Vater von TS and ist massgebend an der Entwicklung beteiligt (kennt ihr ihn?).
- zu OO: aber natürlich ist auch möglich, in TS funktional zu programmieren, ohne OOP.
  TS ist ja ein Superset von JS, wo man normalerweise funtktional programmiert.

---

# Main advantages of TypeScript

- Types help you find and fix a lot of errors during development time. That means, you have less errors at runtime.

- Many modern ECMAScript features are supported out of the box.
  More features are expected according to the roadmap (https://github.com/Microsoft/TypeScript/wiki/Roadmap).

- Great tooling and IDE support with IntelliSense makes the coding a pleasure.

- It is easier to maintain and refactor a (large) TypeScript application than one written in untyped JavaScript.
  It makes our code more consistence, clean and reusable.

- Developers feel comfortable with TypeScript due to object-oriented programming patterns, such as interfaces, classes, enums, generics, and so on.

???


- Was heisst "supported out of the box"? TS kompiliert den Code so, dass auch die modernen Features unterstützt werden,
 welche in eurem Browser (wo das Program läuft) nicht unterstützt sind.
- Auto-completion in einem Projekt demonstrieren.
- Für die Entwicklugn und Wartung von grossen Projekten ist es von Vorteil, TS zu wählen (als JS).
- Fazit: Produktivität und die Entwicklungszeit steigen mit TypeScript.

---

# What is the best way to learn the TypeScript language?

_Recommended reference sources_

- <a href="https://www.typescriptlang.org/docs/handbook/">TypeScript Handbook</a>
- <a href="https://basarat.gitbook.io/typescript/">TypeScript Deep Dive by Basarat Ali Syed</a>
- <a href="https://www.amazon.de/Programming-TypeScript-Boris-Cherny/dp/1492037656/">Book: Programming TypeScript: Making Your JavaScript Applications Scale, written by Boris Cherny</a>
- <a href="https://www.oreilly.com/library/view/effective-typescript/9781492053736/">Book: Effective TypeScript, written by Dan Vanderkam</a>

_Additional reading_

- <a href="https://mariusschulz.com/blog">Marius Schulz Blog</a>
- <a href="https://www.oreilly.com/library/view/typescript-design-patterns/9781785280832/">Book: TypeScript Design Patterns, written by Vilic Vane</a>
- <a href="https://refactoring.guru/design-patterns/typescript">Design Patterns in TypeScript</a>

---

# Relationship between TypeScript and JavaScript

![100%](../images/typescript-superset-js.png)

- The _Typescript Language Specification_ says, every JavaScript program is also a TypeScript program.
  Hence, a migration from JavaScript to TypeScript code is easily done.
- Converse is not true: there are TypeScript programs which are not JavaScript programs.

???

- TS bringt die Typisierung und erweitert die Sprachkonstrukte von JS um zusätzliche Syntax für spezifizierte Typen,
  wie beispielsweise Interfaces, Enums, usw.

---

# Relationship between TypeScript and JavaScript

Valid TypeScript program:

```ts
function greet(who: string) {
  console.log('Hello', who);
}
```

Result when it gets executed as an JavaScript program:

```ts
function greet(who: string) {
                  ^
SyntaxError: Unexpected token ':'
```

Reason:

The `: string` is a type annotation that is specific to TypeScript.

???

Oben ist ein gültiges TS Programm. Wenn wir aber diesen Code als JS (z.B. in Browser) ausführen lassen,
wird es ein SyntaxError gemeldet. Grund dafür ist : string ist eine type annotation, welche spezifisch zu TS ist.

---

# Relationship between TypeScript and JavaScript

Per default, TypeScript compiler __emits output (JavaScript) even when any errors are reported__.

Even if your JavaScript code doesn't throw any errors, it still might not do what you intend. Example:

```js
const states = [
  {name: 'Alabama', capital: 'Montgomery'}
  {name: 'Arizona', capital: 'Phoenix'}
  // ...
]
for (const state of states) {
  console.log(state.capitol);
}
```

This is a valid JavaScript programm which will log:

```
undefined
undefined
```

???

- Wie werden aber sehen, dass man das Output von fehlerhaftem JavaScript-Code durch eine Compiler-Option unterbinden kann.
Compiler-Optionen steuern den Kompilierprozess und man kann z.B. sagen "generiere kein JavaScript, wenn TS Compiler irgendwelche Fehler entdeckt hat".
- Frage: was ist falsch in diesem Code?

---

# Relationship between TypeScript and JavaScript

Let's compile the code with TypeScript.

Even without adding type annotations, TypeScript type checker is able to spot the error and offer a helpful suggestion.

```ts
const states = [
  {name: 'Alabama', capital: 'Montgomery'}
  {name: 'Arizona', capital: 'Phoenix'}
  // ...
]
for (const state of states) {
  console.log(state.capitol);
    // ~~~~ Property 'capitol' does not exist on type
    //      '{ name: string; capital: string; }'.
    //      Did you mean 'capital'?
}
```

---

# Relationship between TypeScript and JavaScript

TypeScript's type system models the runtime behavior of JavaScript. This may result in some suprises if you' re coming from a laguage
with stricter runtime checks. Example:

```ts
const x = 2 + '3';  // OK, type is string
```

The statement passes the type checker, even though they do produce runtime errors in many other languages.
This does model the runtime behavior of JavaScript, where the the expression results in the string `"23"`.

On the other hand, TypeScript compiler is stronger than the runtime behavior of JavaScript. Example:

```ts
const a = null + 7;  // Evaluates to 7 in JS
    // ~~~~ Operator '+' cannot be applied to types ...
```

???

- Das Laufzeit-Verhalten von JavaScript kann euch überraschen, wenn ihr bis jetzt in den strikten Programmiersprachen,
  wie Java oder C# programmiert haben.

---

# Relationship between TypeScript and JavaScript

If you program type checks, could it still throw an error at runtime?

???

Quiz: Wenn ein TS program das Type Checking überstanden hat, kann es eine Exception zur Laufzeit werfen? Was denkt ihr?

--

The answer is "yes". Here's an example:

```ts
const names = ['Alice', 'Bob'];
console.log(names[2].toUpperCase());
```

When you run this, it throws

```ts
TypeError: Cannot read property 'toUpperCase' of undefined
```

TypeScript assumed the array access would be within bounds, but it was not. This assumption led to an error at runtime.

---

# Code generation

TypeScript files use a __.ts__ (or __.tsx__) extension, rather than the __.js__ (or __.jsx__) extension of a JavaScript file.

![100%](../images/transpiling.jpg)

__Target__ signifies which target of JavaScript should be emitted from the given TypeScript.

???

Der Kompiler kompiliert / transpiliert den TS Code in JS Code. Dabei kann das Target via Compiler-Options angegeben werden.
Nicht alle Browser unterstützen die modernen JavaScript Features. Mittels Target kann ich meine Browser-Platform auswählen,
wo mein Program nachher läuft. Die wichtigsten Kompileroptionen und wo man sie angibt, werden wir noch kennenlernen.
An dieser Stelle möchte ich aber dennoch ein Beispiel für die Target-Option geben.

---

# Code generation

__target: es5__

```ts
() => null
```

will become

```js
function() {return null}
```

as ES5 doesn't have arrow functions.

__target: es6__

```ts
() => null
```

will become

```js
() => null
```

as ES6 has arrow functions.

---

# Installation and Output

You can install TypeScript via `npm` globally in the command line:

```
npm install -g typescript
```

Global installation means, the TypeScript compiler __tsc__ can be reached and used in any of your projects.
Installed <a href="https:/nodejs.org">Node.js</a> and npm are presupposed. Node.js is the JavaScript runtime
environment. npm is the package manager. It is shipped with Node.js, but can be installed separately as well.

After that, you can transpile one or more __.ts__ files into __.js__ files by typing:

```
tsc some.ts another.ts
```

This will result in two files, `some.js` and `another.js`.

TypeScript can also be installed locally (below your project root) by typing

```
npm install --save-dev typescript
```

It writes the typescript into your `package.json`.

???

- Globale Installation heisst, der TS Compiler kann von jeder Stelle / jedem Verzeichniss in der Command Line angesprochen werden.
- Lokalle Installation installiert den Compiler im Projekt selbst unter node_modules Verzeichnis.
  Zeigen IntelliJ Settings für TS in einem Projekt + node_modules.

---

# Learning TypeScript Playground

---

# Basic types. Primitives.
    
---
class: center, middle, inverse
    
# That's all folks, thanks for your attention!
    
.back[[Back to the homepage](https://ova2.github.io/typescript-rowing-session/)]
   
Slideshow created with [remark](https://github.com/gnab/remark)
    
</textarea>
<script>
    var slideshow = remark.create({
        highlightLanguage: 'typescript', highlightStyle: 'railscasts', navigation: {scroll: false}
    });
</script>
</body>
</html>
